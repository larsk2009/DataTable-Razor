@page "/"

@using DataTable.Components

<h1>Hello, world!</h1>

<GenericTable Items="tests" Columns="columns" VisibleColumns="visibleColumns"></GenericTable>

@code {
    List<test> tests = new List<test>();
    Dictionary<string, string> columns = new Dictionary<string, string>();
    List<string> visibleColumns = new List<string>();

    protected override void OnInitialized()
    {
        tests.Add(new test { test1 = "test", test2 = null });
        for (int i = 0; i < 10; i++)
        {
            tests.Add(new test { test1 = "test" + i, test2 = i + "test" });
        }

        columns.Add("test1", "Test 1");
        columns.Add("test2", "Test 2");

        visibleColumns.Add("Test 1");
        visibleColumns.Add("Test 2");
    }

    class test
    {
        public string test1 { get; set; }
        public string test2 { get; set; }
    }
}